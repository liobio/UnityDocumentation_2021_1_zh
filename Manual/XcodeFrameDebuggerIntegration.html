<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '///gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https:///css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="使用 Xcode 帧调试器 - Unity 手册">
<title>使用 Xcode 帧调试器 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2021.1/uploads/Main/XcodeCapturedFrame.png">
<meta name="description" content="Xcode 有一个帧调试器工具，可让您捕获应用程序的帧并查看 GPU 在该帧期间执行的命令、检查 GPU 内存中的数据并确定着色器中的瓶颈。这使您可以分析 GPU 性能。">
<meta property="og:description" content="Xcode 有一个帧调试器工具，可让您捕获应用程序的帧并查看 GPU 在该帧期间执行的命令、检查 GPU 内存中的数据并确定着色器中的瓶颈。这使您可以分析 GPU 性能。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'XcodeFrameDebuggerIntegration';
      if(!page) page = 'index';
      var version = '2021.1';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2021.1/Manual/XcodeFrameDebuggerIntegration.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2021.1/Manual/XcodeFrameDebuggerIntegration.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2021.1/Documentation/Manual/XcodeFrameDebuggerIntegration.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="///ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2021.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/XcodeFrameDebuggerIntegration.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/XcodeFrameDebuggerIntegration.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/XcodeFrameDebuggerIntegration.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/XcodeFrameDebuggerIntegration.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/XcodeFrameDebuggerIntegration.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/XcodeFrameDebuggerIntegration.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/XcodeFrameDebuggerIntegration.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/XcodeFrameDebuggerIntegration.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/XcodeFrameDebuggerIntegration.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/XcodeFrameDebuggerIntegration.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/XcodeFrameDebuggerIntegration.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/XcodeFrameDebuggerIntegration.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/XcodeFrameDebuggerIntegration.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/XcodeFrameDebuggerIntegration.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/XcodeFrameDebuggerIntegration.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/XcodeFrameDebuggerIntegration.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/XcodeFrameDebuggerIntegration.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/XcodeFrameDebuggerIntegration.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/XcodeFrameDebuggerIntegration.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/XcodeFrameDebuggerIntegration.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2021.1/Documentation/Manual/XcodeFrameDebuggerIntegration.html">English</a></li>
<li><a data-lang="cn" href="/cn/2021.1/Manual/XcodeFrameDebuggerIntegration.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2021.1/Manual/XcodeFrameDebuggerIntegration.html">日本語</a></li>
<li><a data-lang="es" href="/es/2021.1/Manual/XcodeFrameDebuggerIntegration.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2021.1/Manual/XcodeFrameDebuggerIntegration.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2021.1/Manual/XcodeFrameDebuggerIntegration.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2021.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/XcodeFrameDebuggerIntegration.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/XcodeFrameDebuggerIntegration.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/XcodeFrameDebuggerIntegration.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/XcodeFrameDebuggerIntegration.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/XcodeFrameDebuggerIntegration.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/XcodeFrameDebuggerIntegration.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/XcodeFrameDebuggerIntegration.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/XcodeFrameDebuggerIntegration.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/XcodeFrameDebuggerIntegration.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/XcodeFrameDebuggerIntegration.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/XcodeFrameDebuggerIntegration.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/XcodeFrameDebuggerIntegration.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/XcodeFrameDebuggerIntegration.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/XcodeFrameDebuggerIntegration.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/XcodeFrameDebuggerIntegration.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/XcodeFrameDebuggerIntegration.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/XcodeFrameDebuggerIntegration.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/XcodeFrameDebuggerIntegration.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/XcodeFrameDebuggerIntegration.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/XcodeFrameDebuggerIntegration.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2021.1</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="EditorFeatures.html">编辑器功能</a></li>
<li>使用 Xcode 帧调试器</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="RenderDocIntegration.html"></a></span><div class="tip">RenderDoc 集成</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="device-simulator.html"></a></span><div class="tip">Device Simulator</div>
</div>
</div></div>
<h1>使用 Xcode 帧调试器</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><a href="%5Bhttps://developer.apple.com/xcode/%5D(https://developer.apple.com/xcode/)">Xcode</a> 有一个帧调试器工具，可让您捕获应用程序的帧并查看 GPU 在该帧期间执行的命令、检查 GPU 内存中的数据并确定着色器中的瓶颈。这使您可以分析 GPU 性能。</p>

<figure>
<img src="../uploads/Main/XcodeCapturedFrame.png" alt="Xcode 中捕获的帧">
<figcaption>Xcode 中捕获的帧</figcaption>
</figure>

<p>Unity 通过以下这些方式与 Xcode 帧调试器集成：</p>

<ul>
<li>在 macOS、iOS 和 tvOS 上，您可以在应用程序在目标设备上运行期间，使用 Xcode 帧调试器从应用程序分析帧。</li>
<li>在 macOS 上，您可以使用 Xcode 帧调试器从 Unity 编辑器分析帧。</li>
</ul>

<p>仅当应用程序在 Xcode 支持的平台和图形 API 上运行时，帧调试才可正常工作。从 Unity 2019.2 开始，Xcode 仅支持带有 Metal 图形的 macOS。如果 Unity 使用其他 API，则会禁用 Xcode 集成，直到您选择支持的图形 API。</p>

<h2>从应用程序捕获帧</h2>

<p>要使用 Xcode 帧调试器从应用程序捕获帧，可以执行以下操作之一：</p>

<ul>
<li>从 Xcode 启动应用程序，并使用 Xcode UI 或 <code>FrameCapture</code> API 请求进行帧捕获。可以立即在 Xcode 中分析帧捕获，或将它们保存到磁盘。所有使用 Metal 的平台都支持此工作流程。</li>
<li>在没有 Xcode 项目的情况下直接从命令行启动应用程序，并使用 <code>FrameCapture</code> API 将帧捕获保存到磁盘。iOS 上不支持此工作流程。</li>
</ul>

<h3>使用 Xcode 从应用程序捕获帧</h3>

<p>此部分介绍如何使用 Xcode UI 或 <code>FrameCapture</code> API 启动应用程序并执行帧捕获。</p>

<p>所有使用 Metal 的平台都支持此工作流程。</p>

<p>1.创建 Xcode 项目。
 1.执行此操作的最简单方法是从 Unity 编辑器构建 Xcode 项目：
 1.打开 Build Settings 窗口 (<strong>File</strong> &gt; <strong>Build Settings</strong>)。
 2.仅限 macOS：启用 <strong>Create Xcode Project</strong>。
 3.单击 <strong>Build</strong>。
 2.或者，可以使用任何其他 Xcode 项目启动 macOS 应用程序。为此需要执行以下操作：
 1.在 Xcode 中，创建新的空 macOS 项目，或打开现有 macOS 项目。
 2.转到 <strong>Product</strong> &gt; <strong>Scheme</strong> &gt; <strong>Edit scheme</strong>，然后打开 <strong>Info</strong> 选项卡。
 3.将 <strong>Executable</strong> 设置为构建的 Unity 应用程序。
2.编辑 Xcode 项目方案，以便可以执行帧捕获。
 1.最简单的方法是使用 Xcode GUI：
 1.按照 Xcode 文档中的<a href="https://developer.apple.com/documentation/metal/frame_capture_debugging_tools/enabling_frame_capture">启用帧捕获指南</a>将项目方案的 GPU Frame Capture 设置设为 Metal。
 2.还可以使用 <code>XcScheme</code> API 配置 Xcode 项目方案，这对于自动构建可能非常有用。有关更多信息，请参阅 <a href="../ScriptReference//iOS.Xcode.XcScheme.html">XcScheme API 文档</a>。
3.从 Xcode 启动项目。
4.在适当的时间点，执行帧捕获。
 1.最简单的方法是使用 Xcode UI：
 1.在 Xcode 中，按 Frame Capture 按钮（摄像机图标）以捕获下一个数据帧。
 2.还可以使用 <code>FrameCapture</code> API 从脚本执行帧捕获。有关更多信息，请参阅 <a href="../ScriptReference/Apple.FrameCapture.html">FrameCapture API</a> 文档。</p>

<p>有关在 Xcode 中分析帧捕获数据的信息，请参阅 <a href="%5Bhttps://developer.apple.com/documentation/metal/frame_capture_debugging_tools%5D(https://developer.apple.com/documentation/metal/frame_capture_debugging_tools)">Xcode 帧调试器文档</a>。</p>

<h3>使用命令行从应用程序捕获帧</h3>

<p>此部分介绍如何从命令行启动应用程序，使用 <code>FrameCapture</code> API 执行帧捕获，并将结果保存到磁盘。</p>

<p>iOS 上不支持此工作流程。要在 iOS 上执行帧捕获，必须始终从 Xcode 启动应用程序。</p>

<p>1.将对 <a href="../ScriptReference/Apple.FrameCapture.BeginCaptureToFile.html">FrameCapture.BeginCaptureToFile</a> 和 <a href="Apple.FrameCapture.EndCapture">EndCapture</a> 的调用添加到代码，以便可以根据需要执行帧捕获。
2.使用以下标志从命令行启动应用程序：<code>-enable-metal-capture</code>。Xcode 会在代码请求时执行帧捕获，并将结果保存到磁盘。</p>

<p>有关在 Xcode 中分析此数据的信息，请参阅 <a href="%5Bhttps://developer.apple.com/documentation/metal/frame_capture_debugging_tools%5D(https://developer.apple.com/documentation/metal/frame_capture_debugging_tools)">Xcode 帧调试器文档</a>。</p>

<h2>从 Unity 编辑器捕获帧</h2>

<p>在 macOS 上，您可以使用 Xcode 帧调试器从 Unity 编辑器分析帧。如果使用 Xcode 启动 Unity 编辑器，则可以从 Unity 编辑器 UI 请求进行帧捕获。</p>

<h3>使用 Xcode 从 Unity 编辑器捕获帧</h3>

<p>此部分介绍如何从 Xcode 启动 Unity 编辑器并使用 Unity 编辑器 UI、Xcode UI 或 <code>FrameCapture</code> API 执行帧捕获。可以立即分析帧捕获，或将结果保存到磁盘。</p>

<p>macOS 上不支持此工作流程。</p>

<p>1.如果 Unity 编辑器已打开，请将它关闭。
2.在 Xcode 中，创建新的空 macOS 项目，或打开现有 macOS 项目。
3.转到 <strong>Product</strong> &gt; <strong>Scheme</strong> &gt; <strong>Edit scheme</strong>，然后打开 Info 选项卡。
4.将 <strong>Executable</strong> 设置为 Unity 编辑器。
5.按照 <a href="https://developer.apple.com/documentation/metal/frame_capture_debugging_tools/enabling_frame_capture">Xcode 文档中的启用帧捕获指南</a>将项目方案的 GPU Frame Capture 设置设为 Metal。
6.运行 Xcode 项目以启动 Unity 编辑器。
7.在适当的时间点，执行帧捕获。
 1.最简单的方法是使用 Unity 编辑器 UI：
 1.在 Unity 编辑器中，使用 Scene 视图或 Game 视图右侧的 Xcode Capture 按钮执行帧捕获。
 2.或者，可以使用 Xcode UI：
 1.在 Xcode 中，按 Frame Capture 按钮（摄像机图标）以捕获下一个数据帧。
 3.还可以使用 <code>FrameCapture</code> API 从脚本执行帧捕获。有关更多信息，请参阅 <a href="../ScriptReference/Apple.FrameCapture.html">FrameCapture API</a> 文档。</p>

<p>有关在 Xcode 中分析帧捕获数据的信息，请参阅 <a href="%5Bhttps://developer.apple.com/documentation/metal/frame_capture_debugging_tools%5D(https://developer.apple.com/documentation/metal/frame_capture_debugging_tools)">Xcode 帧调试器文档</a>。</p>

<h3>使用命令行从 Unity 编辑器捕获帧</h3>

<p>此工作流程介绍如何从命令行启动 Unity 编辑器，使用 <code>FrameCapture</code> API 执行帧捕获，并将帧捕获保存到磁盘。</p>

<p>macOS 上不支持此工作流程。</p>

<p>1.将对 <a href="../ScriptReference/Apple.FrameCapture.BeginCaptureToFile.html">FrameCapture.BeginCaptureToFile</a> 和 <a href="Apple.FrameCapture.EndCapture">EndCapture</a> 的调用添加到代码，以便可以根据需要执行帧捕获。
2.使用以下标志[从命令行启动 Unity 编辑器](<a href="https://docs.unity3d.com/Manual/CommandLineArguments.html">https://docs.unity3d.com/Manual/CommandLineArguments.html</a>：<code>-enable-metal-capture</code>。Xcode 会在代码请求时执行帧捕获，并将结果保存到磁盘。</p>

<p>有关在 Xcode 中分析此数据的信息，请参阅 <a href="%5Bhttps://developer.apple.com/documentation/metal/frame_capture_debugging_tools%5D(https://developer.apple.com/documentation/metal/frame_capture_debugging_tools)">Xcode 帧调试器文档</a>。</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="RenderDocIntegration.html"></a></span><div class="tip">RenderDoc 集成</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="device-simulator.html"></a></span><div class="tip">Device Simulator</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2021 Unity Technologies. Publication 2021.1</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
